var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function l(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function r(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function u(){return d(" ")}function m(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t,e){e=""+e,t.data!==e&&(t.data=e)}let v;function h(t){v=t}function y(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(t)}const g=[],$=[];let b=[];const _=[],w=Promise.resolve();let x=!1;function S(t){b.push(t)}const z=new Set;let k=0;function F(){if(0!==k)return;const t=v;do{try{for(;k<g.length;){const t=g[k];k++,h(t),E(t.$$)}}catch(t){throw g.length=0,k=0,t}for(h(null),g.length=0,k=0;$.length;)$.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];z.has(e)||(z.add(e),e())}b.length=0}while(g.length);for(;_.length;)_.pop()();x=!1,z.clear(),h(t)}function E(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const L=new Set;function T(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];b.forEach((s=>-1===t.indexOf(s)?e.push(s):n.push(s))),n.forEach((t=>t())),b=e}(n.after_update),s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(g.push(t),x||(x=!0,w.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(a,o,c,r,d,u,m,p=[-1]){const f=v;h(a);const y=a.$$={fragment:null,ctx:[],props:u,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:o.target||f.$$.root};m&&m(y.root);let g=!1;if(y.ctx=c?c(a,o.props||{},((t,e,...n)=>{const s=n.length?n[0]:e;return y.ctx&&d(y.ctx[t],y.ctx[t]=s)&&(!y.skip_bound&&y.bound[t]&&y.bound[t](s),g&&q(a,t)),e})):[],y.update(),g=!0,s(y.before_update),y.fragment=!!r&&r(y.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);y.fragment&&y.fragment.l(t),t.forEach(i)}else y.fragment&&y.fragment.c();o.intro&&(($=a.$$.fragment)&&$.i&&(L.delete($),$.i(b))),function(t,n,a,o){const{fragment:c,after_update:i}=t.$$;c&&c.m(n,a),o||S((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):s(n),t.$$.on_mount=[]})),i.forEach(S)}(a,o.target,o.anchor,o.customElement),F()}var $,b;h(f)}class O{$destroy(){T(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function M(t,e,n){const s=t.slice();return s[7]=e[n],s}function N(e){let n;return{c(){n=r("div"),n.innerHTML='<h1 class="svelte-1nnv1md">No connection...</h1>'},m(t,e){c(t,n,e)},p:t,d(t){t&&i(n)}}}function A(e){let n;return{c(){n=r("div"),n.innerHTML='<h1 class="svelte-1nnv1md">No Zips</h1>'},m(t,e){c(t,n,e)},p:t,d(t){t&&i(n)}}}function H(t){let e,n=t[0]&&P(t);return{c(){e=r("div"),n&&n.c(),p(e,"css-flex","column"),p(e,"class","svelte-1nnv1md")},m(t,s){c(t,e,s),n&&n.m(e,null)},p(t,s){t[0]?n?n.p(t,s):(n=P(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&i(e),n&&n.d()}}}function P(t){let e,n,s,l=t[0],a=[];for(let e=0;e<l.length;e+=1)a[e]=C(M(t,l,e));return{c(){e=r("h1"),e.textContent="Click to delete a zip",n=u(),s=r("div");for(let t=0;t<a.length;t+=1)a[t].c();p(e,"class","svelte-1nnv1md"),p(s,"css-flex","wrap gap-1-2 jc-center"),p(s,"class","svelte-1nnv1md")},m(t,l){c(t,e,l),c(t,n,l),c(t,s,l);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(s,null)},p(t,e){if(9&e){let n;for(l=t[0],n=0;n<l.length;n+=1){const o=M(t,l,n);a[n]?a[n].p(o,e):(a[n]=C(o),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(t){t&&i(e),t&&i(n),t&&i(s),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(a,t)}}}function C(t){let e,n,s,l,a,v,h=t[7]+"";return{c(){e=r("button"),n=d(h),s=u(),p(e,"data-zip_name",l=t[7]),p(e,"class","svelte-1nnv1md")},m(l,i){c(l,e,i),o(e,n),o(e,s),a||(v=m(e,"click",t[3]),a=!0)},p(t,s){1&s&&h!==(h=t[7]+"")&&f(n,h),1&s&&l!==(l=t[7])&&p(e,"data-zip_name",l)},d(t){t&&i(e),a=!1,v()}}}function R(t){let e,n,s=JSON.stringify(t[2])+"";return{c(){var t,l,a,o;e=r("section"),n=d(s),t=e,l="padding",null==(a="2rem")?t.style.removeProperty(l):t.style.setProperty(l,a,o?"important":""),p(e,"class","svelte-1nnv1md")},m(t,s){c(t,e,s),o(e,n)},p(t,e){4&e&&s!==(s=JSON.stringify(t[2])+"")&&f(n,s)},d(t){t&&i(e)}}}function D(e){let n,l,a,d,f,v,h,y,g,$,b,_,w,x,S,z,k,F,E,L;function T(t,e){return t[1]>0?H:0==t[1]?A:N}let q=T(e),j=q(e),O=e[2]&&R(e);return{c(){n=r("main"),l=r("input"),a=u(),d=r("section"),f=r("div"),v=r("div"),h=r("input"),y=u(),g=r("div"),$=r("div"),$.innerHTML='<h2 data-tree-view-h2="">Root</h2> \n\t\t\t\t\t<ul class="tree_view svelte-1nnv1md"><li class="svelte-1nnv1md"><span class="svelte-1nnv1md"><i class="material-symbols-outlined">folder</i> Folder 1</span> \n\t\t\t\t\t\t\t<ul class="svelte-1nnv1md"><li class="svelte-1nnv1md"><span class="svelte-1nnv1md"><i class="material-symbols-outlined">draft</i> Subfile 1</span></li></ul></li> \n\t\t\t\t\t\t<li class="svelte-1nnv1md"><span class="svelte-1nnv1md"><i class="material-symbols-outlined">folder</i> Folder 2</span></li> \n\t\t\t\t\t\t<li class="svelte-1nnv1md"><span class="svelte-1nnv1md"><i class="material-symbols-outlined">folder</i> Folder 3</span></li> \n\t\t\t\t\t\t<li class="svelte-1nnv1md"><span class="svelte-1nnv1md"><i class="material-symbols-outlined">draft</i> File 1.jpg</span></li> \n\t\t\t\t\t\t<li class="svelte-1nnv1md"><span class="svelte-1nnv1md"><i class="material-symbols-outlined">draft</i> File 2.jpg</span></li></ul>',b=u(),_=r("div"),_.innerHTML='<i class="material-symbols-outlined rotate_animation svelte-1nnv1md" data-icon-sync="" css-font="10-rem">sync</i> \n\t\t\t\t\t<i class="material-symbols-outlined svelte-1nnv1md" data-icon-close="" css-font="10-rem">close</i> \n\t\t\t\t\t<i class="material-symbols-outlined svelte-1nnv1md" data-icon-check="" css-font="10-rem">check</i>',w=u(),x=r("div"),S=r("button"),S.textContent="Add to server",z=u(),k=r("div"),j.c(),F=u(),O&&O.c(),p(l,"type","hidden"),p(l,"data-class-container",""),p(l,"class","svelte-1nnv1md"),p(h,"type","file"),p(h,"data-zip-picker",""),p(h,"class","h1 svelte-1nnv1md"),p(h,"accept",".zip"),p(v,"css-flex","column"),p(v,"class","svelte-1nnv1md"),p($,"class","tree_view_container svelte-1nnv1md"),p(_,"class","scan_icon svelte-1nnv1md"),p(_,"css-flex","margin-auto"),p(S,"data-button-zip",""),S.disabled=!0,p(S,"class","svelte-1nnv1md"),p(x,"css-flex","margin-auto"),p(x,"class","svelte-1nnv1md"),p(g,"css-flex","space-between"),p(g,"class","svelte-1nnv1md"),p(f,"class","container svelte-1nnv1md"),p(k,"class","container svelte-1nnv1md"),p(d,"class","svelte-1nnv1md"),p(n,"class","svelte-1nnv1md")},m(t,s){c(t,n,s),o(n,l),o(n,a),o(n,d),o(d,f),o(f,v),o(v,h),o(f,y),o(f,g),o(g,$),o(g,b),o(g,_),o(g,w),o(g,x),o(x,S),o(d,z),o(d,k),j.m(k,null),o(n,F),O&&O.m(n,null),E||(L=[m(h,"change",e[4]),m(S,"click",e[5])],E=!0)},p(t,[e]){q===(q=T(t))&&j?j.p(t,e):(j.d(1),j=q(t),j&&(j.c(),j.m(k,null))),t[2]?O?O.p(t,e):(O=R(t),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i:t,o:t,d(t){t&&i(n),j.d(),O&&O.d(),E=!1,s(L)}}}function J(t,e,n){let s,l,a,o=[400,500];return y((async()=>{try{const t=await fetch("https://localhost:9090/api/zip/get",{method:"GET"}),e=await t.json();o.includes(t.status)&&n(2,a=e),n(0,s=e.zips),n(1,l=s.length)}catch(t){n(2,a=t.toString())}})),[s,l,a,async function(t){try{const e=await fetch("https://localhost:9090/api/zip/delete?zip_name="+t.target.getAttribute("data-zip_name"),{method:"POST"}),s=document.querySelector("[data-zip_name='"+t.target.getAttribute("data-zip_name")+"']");o.includes(e.status)?n(2,a=await e.json()):s.style="display: none;"}catch(t){n(2,a=t.toString())}},async function(t){try{const t=document.querySelector("[data-icon-sync]"),e=document.querySelector("[data-icon-close]"),s=document.querySelector("[data-icon-check]");t.style="opacity: 1;",e.style="opacity: 0",s.style="opacity: 0";const l=document.querySelector(".tree_view"),c=document.querySelector("[data-zip-picker]");let i=new FormData;i.append("file",c.files[0]);const r=await fetch("https://localhost:9090/api/zip/validate",{method:"POST",body:i});n(2,a=null);const d=await r.json(),u=document.querySelector("[data-tree-view-h2]"),m=document.querySelector("[data-button-zip]");o.includes(r.status)?(t.style="opacity: 0",e.style="opacity: 1",s.style="opacity: 0",n(2,a=d.errors)):(t.style="opacity: 0",e.style="opacity: 0",s.style="opacity: 1",m.disabled=!1);let p="";const f=document.querySelector("[data-class-container]"),v=(t=!1)=>t?"</ul>":"<ul class="+f.classList[0]+">",h=(t=!1)=>t?"</li>":"<li class="+f.classList[0]+">",y=t=>"<li class="+f.classList[0]+"><span class="+f.classList[0]+'><i class="material-symbols-outlined">draft</i> '+t+"</span></li>",g=t=>"<span class="+f.classList[0]+'><i class="material-symbols-outlined">folder</i> '+t+"</span>";d.dlls.Files.length>0&&(p+=h(),p+=g("dlls"),p+=v(),d.dlls.Files.forEach((t=>{p+=y(t)})),p+=v(!0),p+=h(!0)),d.images.Files.length>0&&(p+=h(),p+=g("images"),p+=v(),d.images.Files.forEach((t=>{p+=y(t)})),p+=v(!0),p+=h(!0)),d.languages.Files.length>0&&(p+=h(),p+=g("languages"),p+=v(),d.languages.Files.forEach((t=>{p+=y(t)})),p+=v(!0),p+=h(!0)),d.dlls.Files.length>0&&d.images.Files.length>0&&d.languages.Files.length>0?u.innerHTML="Root is empty":u.innerHTML="Root",l.innerHTML=p}catch(t){n(2,a=t.toString())}},async function(t){try{const t=document.querySelector("[data-zip-picker]");let e=new FormData;e.append("file",t.files[0]);const s=await fetch("https://localhost:9090/api/zip/upload",{method:"POST",body:e});o.includes(s.status)?n(2,a=await s.json()):location.reload()}catch(t){n(2,a=t)}}]}return new class extends O{constructor(t){super(),j(this,t,J,D,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
